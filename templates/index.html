<!DOCTYPE html>
<!-- This script is based on the work of Luciano Abriata (https://molecularmirror.altervista.org/en/) -->
  <script src = "https://aframe.io/releases/1.1.0/aframe.min.js"></script>
  <script src = "static/aframe-ar.js"></script>
  <!--script type = "module" src = "static/index.js"></script-->

<html lang="en">
  <head>
    <title>Peptide link formation</title>
  </head>

  <body>
    <div class="mainText">
      <p id="info"><b>Move the hiro and the kanji markers closer in order to do the reaction</b></p>
      <p id="infop"></p>
    </div>

    <a-scene embedded artoolkit='patternRatio: 500; sourceType: webcam;' id="thescene">
      
      <!--first  aminoacid and dipeptide-->
      </a-assets>
        <a-asset-item id = "aa1-obj" src = "static/assets/objAfinal.obj"></a-asset-item>
        <a-asset-item id = "aa1-mtl" src = "static/assets/objAfinal.mtl"></a-asset-item>
      </a-assets>


      <a-marker preset = 'letterA' id = "letterAMarkerSelector">
        <a-obj-model id = "aminoAcid1" src = "#aa1-obj" mtl = "#aa1-mtl" scale="20 20 20" visible = "false"></a-entity>
        <a-sphere id = "water" color = "red" radius = "0.20" visible = "false"></a-sphere>
        <a-text id = "waterText" value = "water" side = "left" visible = "false"></a-text>
      </a-marker>



      <!--second  aminoacid and water-->
      <a-assets>      
        <a-asset-item id = "pep-obj" src = "static/assets/objABfinal.obj"></a-asset-item>
        <a-asset-item id = "pep-mtl" src = "static/assets/objABfinal.mtl"></a-asset-item>
      </a-assets>
      <a-marker preset = 'kanji' id = "kanjiMarkerSelector">
        <a-sphere id = "aminoAcid2" color = "white" radius = "0.25" visible = "false"></a-sphere>
        <a-text id = "aminoAcid2Text" value="amino acid 2" side = "left" visible = "false"></a-text>
        <a-obj-model id = "dipeptide" src = "#pep-obj" mtl = "#pep-mtl"  scale = "15 15 15" visible = "false"></a-entity>
      </a-marker>
      <a-entity camera></a-entity>
    </a-scene>
  </body>

  <!--main script -->
  <script src="static/peptide-link.js"></script>

  <script>
    const sceneEl = document.querySelector("a-scene");
    sceneEl.addEventListener("loaded", () => {
      sceneEl.camera = new THREE.PerspectiveCamera();
    });
  </script>
</html>